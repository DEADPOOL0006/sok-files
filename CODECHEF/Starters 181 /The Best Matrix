//c ( CODE )

#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define sok1(a, b) ((a) > (b) ? (a) : (b))

void sok2() {
    int sok3, sok4;
    scanf("%d %d", &sok3, &sok4);

    int sok5[sok3][sok4];
    for (int sok6 = 0; sok6 < sok3; sok6++) {
        for (int sok7 = 0; sok7 < sok4; sok7++) {
            scanf("%d", &sok5[sok6][sok7]);
        }
    }

    int sok8 = sok3 * sok4;
    int sok9[] = {1, -1};
    int sok10[] = {1, -1};

    for (int sok11 = 0; sok11 < 2; sok11++) {
        for (int sok12 = 0; sok12 < 2; sok12++) {
            int sok13 = 1000000;
            int *sok14 = (int *)calloc(sok13, sizeof(int));
            int sok15 = sok13 / 2;
            int sok16 = 0;

            for (int sok17 = 0; sok17 < sok3; sok17++) {
                for (int sok18 = 0; sok18 < sok4; sok18++) {
                    int sok19 = sok5[sok17][sok18] - sok17 * sok10[sok12] - sok18 * sok9[sok11];
                    int sok20 = sok19 + sok15;
                    sok14[sok20]++;
                    sok16 = sok1(sok16, sok14[sok20]);
                }
            }

            int sok21 = sok3 * sok4 - sok16;
            sok8 = (sok8 < sok21) ? sok8 : sok21;

            free(sok14);
        }
    }

    printf("%d\n", sok8);
}

int main() {
    int sok22;
    scanf("%d", &sok22);
    while (sok22--) {
        sok2();
    }
    return 0;
}
